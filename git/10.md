# ç¬¬åç«  æ ‡ç­¾(Tag)

[â‡¦ä¸Šä¸€ç« ](09.md) - [é¦–é¡µğŸ ](index.md) - [ä¸‹ä¸€ç« â‡¨](11.md)

---

- [ç¬¬åç«  æ ‡ç­¾(Tag)](#ç¬¬åç« -æ ‡ç­¾tag)
	- [1. æŸ¥çœ‹æ ‡ç­¾](#1-æŸ¥çœ‹æ ‡ç­¾)
	- [2. åˆ›å»ºæ ‡ç­¾](#2-åˆ›å»ºæ ‡ç­¾)
	- [3. è·å–è¿œç¨‹æ ‡ç­¾](#3-è·å–è¿œç¨‹æ ‡ç­¾)
	- [4. åˆ é™¤æ ‡ç­¾](#4-åˆ é™¤æ ‡ç­¾)
	- [5. ä½¿ç”¨æ ‡ç­¾ç‚¹çš„ä»£ç ](#5-ä½¿ç”¨æ ‡ç­¾ç‚¹çš„ä»£ç )

---

ã€Œæ ‡ç­¾ã€å¹¶é Git çš„ä¸»è¦å’Œå¿…é¡»åŠŸèƒ½, ä½†å–„ç”¨æ ‡ç­¾ï¼Œå¯¹é¡¹ç›®ä¹Ÿå¾ˆæœ‰ç›Šå¤„ã€‚é¡¹ç›®å‘å¸ƒçš„ç‰ˆæœ¬ï¼Œæˆ‘ä»¬ä¸€èˆ¬ç”¨ tag æ¥æ ‡è®°ï¼Œä½œä¸ºå­˜æ¡£ï¼Œå¹¶ä¸å†ä¿®æ”¹ï¼Œæ¯”å¦‚

* v0.01
* v0.02
* ...

Branch ä¸€èˆ¬ç”¨ä½œå¹³å¸¸å¼€å‘ã€‚Tag èƒ½åšçš„ branch éƒ½èƒ½ï¼Œä½†å°†å‘å¸ƒç”¨çš„ç‰ˆæœ¬å­˜æ¡£ä»¥ tag æ ‡è®°å¯ä½¿ branch çš„åŠŸèƒ½æ›´çº¯ç²¹ã€‚

é€šè¿‡æŒ‡ä»¤ `git tag --help` å¯ä»¥æŸ¥çœ‹å®˜æ–¹å‚è€ƒæ–‡æ¡£ã€‚

## 1. æŸ¥çœ‹æ ‡ç­¾

(å¦‚æœä½ åœ¨æ‰§è¡Œè¿™äº›ä»£ç æ—¶çš„è¾“å‡ºç»“æœä¸ºç©ºï¼Œè¯·å‚è€ƒ[2. åˆ›å»ºæ ‡ç­¾](#2-åˆ›å»ºæ ‡ç­¾)åˆ¶ä½œä¸€äº›æ ‡ç­¾å†æ¥åšæœ¬èŠ‚çš„å®éªŒ)

æŸ¥çœ‹æœ¬åœ°åº“çš„æ‰€æœ‰æ ‡ç­¾

```plaintext
$ git tag
```

or

```plaintext
$ git tag --list
```

å®ƒå¯ä»¥å’Œ `grep` æŒ‡ä»¤ç»“åˆå»æ‰¾åŒ…å«æŸä¸ªå­—ä¸²çš„æ ‡ç­¾ï¼Œå¦‚

```plaintext
$ git tag | grep v0.0
```

æŸ¥çœ‹è¿œç¨‹åº“çš„æ‰€æœ‰æ ‡ç­¾

```plaintext
$ git ls-remote --tags
```

è¿™æ¡æŒ‡ä»¤å¦‚æœä¸éœ€è¦åœ¨æœ¬åœ°åº“çš„ç›®å½•é‡Œè¿è¡Œï¼Œå¯ä»¥æ·»åŠ ä¸Šè¿œç¨‹åº“çš„åœ°å€å°±è¡Œäº†ï¼Œå³

```plaintext
$ git ls-remote --tags {remote repo URL}
```

## 2. åˆ›å»ºæ ‡ç­¾

ç»™**å½“å‰ç‰ˆæœ¬**æ‰“ä¸Š v0.01 çš„æ ‡ç­¾ï¼š

```plaintext
$ git tag v0.01
```

ä¸Šé¢æ˜¯åˆ›å»ºä¸€ä¸ªè½»é‡æ ‡ç­¾ï¼Œå¦‚æœéœ€è¦åˆ›å»ºæ ‡æ³¨æ ‡ç­¾ï¼Œç”¨ä¸‹é¢çš„æ–¹å¼ï¼š

```plaintext
$ git tag -a v0.01 -m "This is a demo to create an anotation tag"
```

æœ‰å…³è½»é‡æ ‡ç­¾å’Œæ ‡æ³¨æ ‡ç­¾çš„ä¸åŒï¼Œå¯ä»¥å‚è€ƒæœ¬ç«™çš„ã€Š[Git çš„ä¸¤ç§ Tag çš„å¹³è¡Œå¯¹æ¯”å®éªŒ](tag.md)ã€‹ã€‚

å°†æ ‡ç­¾æ¨é€åˆ°è¿œç¨‹ï¼š

```plaintext
$ git push origin v0.01
```

è¿™æ¡æŒ‡ä»¤å’Œæ¨é€ branch çš„ï¼Œå¹¶æ— ä»€ä¹ˆåŒºåˆ«ã€‚ä½†å¦‚æœæœ‰åŒåçš„ branch å’Œ tagï¼Œå°±è¦ç”¨ tag çš„å…¨ç§°æ‰èƒ½æ¨é€æˆåŠŸï¼Œå¦‚ï¼š

```plaintext
$ git push origin refs/tags/v0.01
```

è¿˜å¯ä»¥åŠ  `--force` è¦†ç›–åŸå…ˆçš„åŒåæ ‡ç­¾

```plaintext
$ git push origin refs/tags/v0.01 --force
```

æœ¬åœ°çš„ tag ä¸èƒ½ç›´æ¥è¦†ç›–ï¼Œå¯ä»¥å…ˆæŠŠåŸå…ˆçš„ tag åˆ äº†ï¼Œå†é‡æ–°åˆ›å»ºã€‚

ä¸€æ¬¡æ€§æ¨é€å…¨éƒ¨å°šæœªæ¨é€åˆ°è¿œç¨‹çš„æœ¬åœ°æ ‡ç­¾ï¼š

```plaintext
$ git push origin --tags
```

## 3. è·å–è¿œç¨‹æ ‡ç­¾

å¯ä»¥åœ¨ä»»æ„åˆ†æ”¯ä¸Šæ‰§è¡Œä¸‹é¢çš„è¯­å¥

```plaintext
$ git fetch --all
```

å®ƒçš„æœ¬æ„æ˜¯è·å–è¿œç¨‹çš„æ‰€æœ‰å˜åŒ–ï¼Œè‡ªç„¶ä¹Ÿå°† tag è·å–äº†ã€‚

## 4. åˆ é™¤æ ‡ç­¾

åˆ é™¤æœ¬åœ°çš„æ ‡ç­¾

```plaintext
$ git tag --delete v0.01
```

`--delete` å¯ä»¥ç®€ä½œ `-d`

åˆ é™¤è¿œç¨‹ tag:

```plaintext
$ git push origin --delete v0.01
```

å¦‚æœ tag å’Œ branch æœ‰é‡åï¼Œåˆ é™¤æŒ‡ä»¤éœ€è¦ä½¿ç”¨å®Œæ•´çš„ tag åï¼š

```plaintext
$ git push origin --delete refs/tags/v0.01
```

å¯ä»¥ä¸€æ¬¡åˆ é™¤å¤šä¸ªæ ‡ç­¾ï¼š

```plaintext
$ git push origin --delete v0.01 v0.02 v0.03
```

## 5. ä½¿ç”¨æ ‡ç­¾ç‚¹çš„ä»£ç 

å¦‚æœè¦ä½¿ç”¨æ ‡ç­¾ç‚¹çš„ä»£ç ï¼Œå¯ä»¥ç”¨ `switch` æˆ– `checkout` å®Œæˆã€‚

```plaintext
$ git switch v0.03 -c v003
Switched to a new branch 'v003'
```

æˆ–

```plaintext
$ git checkout v0.02 -b v002
Switched to a new branch 'v002'
```

---

[â‡¦ä¸Šä¸€ç« ](09.md) - [é¦–é¡µğŸ ](index.md) - [ä¸‹ä¸€ç« â‡¨](11.md)
