# ç¬¬åå››ç«  äº†è§£ä»“åº“çŠ¶æ€

[â‡¦ä¸Šä¸€ç« ](13.md) - [é¦–é¡µğŸ ](index.md) - [ä¸‹ä¸€ç« â‡¨](15.md)

---

- [ç¬¬åå››ç«  äº†è§£ä»“åº“çŠ¶æ€](#ç¬¬åå››ç« -äº†è§£ä»“åº“çŠ¶æ€)
  - [1. `git version`](#1-git-version)
  - [2. `git status`](#2-git-status)
  - [3. `git diff/difftool`](#3-git-diffdifftool)
  - [4. `git log`](#4-git-log)
    - [4.1 ä¸å¸¦å‚ä½¿ç”¨](#41-ä¸å¸¦å‚ä½¿ç”¨)
    - [4.2 ç˜¦èº«æ˜¾ç¤º](#42-ç˜¦èº«æ˜¾ç¤º)
    - [4.3 å›¾å½¢åŒ–æ˜¾ç¤º](#43-å›¾å½¢åŒ–æ˜¾ç¤º)
    - [4.4 å ä½ç¬¦ (Placeholder)](#44-å ä½ç¬¦-placeholder)
      - [4.4.1 ç¤ºä¾‹1ï¼šè·å–å½“å‰åˆ†æ”¯æœ€åä¸€æ¬¡æäº¤çš„ä½œè€…çš„ email](#441-ç¤ºä¾‹1è·å–å½“å‰åˆ†æ”¯æœ€åä¸€æ¬¡æäº¤çš„ä½œè€…çš„-email)
      - [4.4.2 æ›´å¤šç¤ºä¾‹](#442-æ›´å¤šç¤ºä¾‹)
    - [4.5 Find Deleted Files in Git Repository](#45-find-deleted-files-in-git-repository)
    - [4.6 æŸ¥è¯¢æŸäººæäº¤çš„å†å²è®°å½•](#46-æŸ¥è¯¢æŸäººæäº¤çš„å†å²è®°å½•)
  - [5. `git reflog`](#5-git-reflog)
  - [6. `git show`](#6-git-show)
  - [7. `git branch`](#7-git-branch)
  - [8. `git merge-base`](#8-git-merge-base)
  - [9. Tags](#9-tags)
  - [10. `git worktree`](#10-git-worktree)
  - [11. `git remote`](#11-git-remote)
  - [12. `git config`](#12-git-config)

---

åœ¨ä½¿ç”¨ git æ—¶ï¼Œæˆ‘ä»¬éœ€è¦æ—¶æ—¶åˆ»åˆ»äº†è§£ repo çš„çŠ¶æ€ã€‚äº†è§£æ­£ç¡®çš„æƒ…å†µï¼Œæ˜¯æ‰§è¡Œæ­£ç¡®æ“ä½œçš„å‰æå’Œä¿éšœã€‚

æœ¬ç« éƒ¨åˆ†å†…å®¹åœ¨å‰é¢çš„ç« èŠ‚é‡Œä¹Ÿæœ‰å‡ºç°ã€‚

## 1. `git version`

äº†è§£å½“å‰ git çš„ç‰ˆæœ¬ä¿¡æ¯

```plaintext
$ git version
git version 2.40.1
```

Windows ç‰ˆæœ¬è¿˜ä¼šå¸¦ä¸Šæ“ä½œç³»ç»Ÿä¿¡æ¯

```plaintext
$ git version
git version 2.42.0.windows.2
```

æ—§ç‰ˆä¹Ÿå¯ä»¥ç”¨ `git --version`

## 2. `git status`

`git status` è¯·éšæ—¶ä½¿ç”¨ï¼Œéšæ—¶äº†è§£åº“çš„çŠ¶æ€ï¼š

* ç›®å‰çš„å·¥ä½œåˆ†æ”¯
* å·¥ä½œåŒºæ”¹åŠ¨äº†å“ªäº›æ–‡ä»¶
* æœ‰æ— æ–°å¢çš„æ–‡ä»¶è¿˜æ²¡è·Ÿè¸ª
* æš‚å­˜åŒºé‡Œæœ‰å“ªäº›æ–‡ä»¶
* åˆ†æ”¯æ˜¯å¦æœ‰æ›´æ–°ï¼Œæ˜¯å¦éœ€è¦æ›´æ–°
* æ‰§è¡Œ `merge/rebase/cherr-pick/revert/pull` æ—¶å¦‚æœæœ‰ä»£ç å†²çªï¼Œå®ƒä¼šæ˜¾ç¤ºå“ªäº›æ–‡ä»¶éœ€è¦å¤„ç†ï¼Œä¼šæç¤ºä¸‹ä¸€æ­¥çš„å¤„ç†æ˜¯ä»€ä¹ˆ

å¦‚æœä»…éœ€ç®€è¦æ˜¾ç¤ºï¼ŒåŠ å‚æ•° `-s` å³å¯ï¼š`git status -s`

```plaintext
$ git status
On branch git-tutorial
Changes not staged for commit:
  (use "git add <file>..." to update what will be committed)
  (use "git restore <file>..." to discard changes in working directory)
        modified:   git/14.md
        modified:   images/alipay_code.jpg
        modified:   images/wechat_code.png

no changes added to commit (use "git add" and/or "git commit -a")

$ git status -s
 M git/14.md
 M images/alipay_code.jpg
 M images/wechat_code.png
```

`git status` éå¸¸æœ‰ç”¨ï¼Œåœ¨å„ä¸ªåœºæ™¯ä¸‹éƒ½åº”è¯¥å¤šç”¨ã€‚

## 3. `git diff/difftool`

å¦‚æœå·¥ä½œåŒºé‡Œå¯¹æ–‡ä»¶æœ‰æ”¹åŠ¨ï¼Œç”¨ `git status` å¯ä»¥çŸ¥é“å“ªäº›æ–‡ä»¶æœ‰å˜åŒ–ï¼Œè€Œç”¨ `git diff` å¯ä»¥æŸ¥çœ‹åˆ°è¯¦ç»†çš„æ”¹åŠ¨å†…å®¹ã€‚

```plaintext
$ git diff
diff --git a/git/14.md b/git/14.md
index b263c00..18fd84d 100644
--- a/git/14.md
+++ b/git/14.md
@@ -56,7 +56,15 @@ git version 2.42.0.windows.2

 ## `git status`

-`git status` è¯·éšæ—¶ä½¿ç”¨ï¼Œéšæ—¶äº†è§£åº“çš„çŠ¶æ€ã€‚
+`git status` è¯·éšæ—¶ä½¿ç”¨ï¼Œéšæ—¶äº†è§£åº“çš„çŠ¶æ€ï¼š
+
...
```

è¿˜å¯ä»¥ä½¿ç”¨ `difftool` æŸ¥çœ‹ï¼Œæ•ˆæœæ›´é…·ï¼š

```plaintext
$ git difftool

This message is displayed because 'diff.tool' is not configured.
See 'git difftool --tool-help' or 'git help config' for more details.
'git difftool' will now attempt to use one of the following tools:
opendiff kdiff3 tkdiff xxdiff meld kompare gvimdiff diffuse diffmerge ecmerge p4merge araxis bc codecompare smerge emerge vimdiff nvimdiff

Viewing (1/1): 'git/14.md'
Launch 'vimdiff' [Y/n]?
```

(è¿™é‡Œæåˆ° `diff.tool` æ²¡æœ‰é…ç½®ï¼Œæš‚æ—¶ä¸è€ƒè™‘ï¼Œå®ƒä¼šä½¿ç”¨é»˜è®¤çš„ vimdiff. é…ç½®ç›¸å…³çš„å†…å®¹[ä¸‹ä¸€ç« ](15.md)ä¼šè®²ã€‚)

è¾“å…¥ `Y` å›è½¦åï¼Œç•Œé¢å±•ç¤ºå¦‚ä¸‹ï¼š

![](images/ch14_01_difftool.png)

æŸ¥çœ‹ä¸Šä¸€ä¸ªç‰ˆæœ¬æ”¹åŠ¨çš„æ–‡ä»¶åˆ—è¡¨ï¼š

```plaintext
$ git diff --name-only HEAD~1
git/14.md
images/alipay_code.jpg
images/wechat_code.png
```

æŸ¥çœ‹å‰3ä¸ªç‰ˆæœ¬æ”¹åŠ¨çš„æ–‡ä»¶åˆ—è¡¨ï¼š

```plaintext
$ git diff --name-only HEAD~3
git/01.md
git/14.md
git/index.md
git/preface.md
images/alipay_code.jpg
images/wechat_code.png
```

æŸ¥çœ‹å‰é¢ç‰ˆæœ¬çš„å…·ä½“ä¿®æ”¹å†…å®¹ï¼š

```plaintext
$ git diff HEAD~1
$ git diff HEAD~3
```

è¿˜å¯ä»¥ä½¿ç”¨ `difftool` æŸ¥çœ‹ï¼Œæ•ˆæœæ›´é…·ï¼š

```plaintext
 git difftool HEAD~1
 git difftool HEAD~3
```

å¯¹æ¯”æŸä¸¤æ¬¡ commit ä¹‹é—´ä¿®æ”¹äº†å“ªäº›æ–‡ä»¶ï¼Œå¦‚ HEAD~n åˆ° HEAD~m çš„æ‰€æœ‰å˜åŒ–(åŒ…å« HEAD~n å’Œ HEAD~m)çš„å˜åŒ–ï¼š

```plaintext
$ git diff HEAD~n HEAD~m
```

å¦‚æœåªæ˜¯æŸ¥çœ‹å˜åŒ–çš„æ–‡ä»¶åˆ—è¡¨ï¼ŒåŠ  `--name-only` å‚æ•°

```plaintext
$ git diff --name-only HEAD~n HEAD~m
```

å¦‚æœéœ€è¦æ›´å¥½çš„å¯¹æ¯”æ•ˆæœï¼Œç”¨ `difftool`

```plaintext
$ git difftool HEAD~n HEAD~m
```

## 4. `git log`

`git log` ä¹Ÿæ˜¯ä¸€ä¸ªè¶…çº§å¸¸ç”¨çš„æŒ‡ä»¤ï¼Œgit ä½œä¸º VCS, å†å²è®°å½•æ˜¯æ ¸å¿ƒï¼Œæ‰€ä»¥è¿™ä¸ªæŒ‡ä»¤åŒæ—¶ä¹Ÿéå¸¸é‡è¦ã€‚

* å®˜æ–¹æ–‡æ¡£ï¼š<https://git-scm.com/docs/git-log>

### 4.1 ä¸å¸¦å‚ä½¿ç”¨

å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬æ‰§è¡Œä¸å¸¦å‚æ•°æŒ‡ä»¤å°±å¥½ï¼š

```plaintext
$ git log
commit 16018180d2d8033a811561bb044baba9fdf3e4fc (HEAD -> git-tutorial)
Author: Cao Yi <iridiumcao@gmail.com>
Date:   Sat Dec 23 21:21:37 2023 +0800

    more

commit cd5105335c3260daf68af65e9de4173dcb64b54a
Author: Cao Yi <iridiumcao@gmail.com>
Date:   Sat Dec 23 21:08:40 2023 +0800

    Update Chapter 14, 15, 16

commit d61f9eb67ad0dd9818ce6d5028f7676443d699e4
Author: Cao Yi <iridiumcao@gmail.com>
Date:   Sat Dec 23 10:11:06 2023 +0800

    Chapter 15, Git Config
    chapter 16, Git GUI
...
```

å¦‚æœè®°å½•è¾ƒå¤šï¼Œå¯ä»¥æŒ‰ã€Œæ–¹å‘é”®ã€æˆ–ã€Œç¿»é¡µé”®ã€å‘å‰æˆ–å‘åæ˜¾ç¤ºï¼ŒæŒ‰ `q` åœæ­¢æ˜¾ç¤ºå¹¶é€€å‡ºã€‚

### 4.2 ç˜¦èº«æ˜¾ç¤º

å¦‚æœä¸éœ€è¦æ˜¾ç¤ºæ‘˜è¦ä¿¡æ¯ï¼Œè¿˜å¯ä»¥åŠ ä¸Šå‚æ•° `--pretty=oneline` ç®€å•æ˜¾ç¤º commit hash å’Œ message å°±è¡Œ

```plaintext
$ git log --pretty=oneline
16018180d2d8033a811561bb044baba9fdf3e4fc (HEAD -> git-tutorial) more
cd5105335c3260daf68af65e9de4173dcb64b54a Update Chapter 14, 15, 16
d61f9eb67ad0dd9818ce6d5028f7676443d699e4 Chapter 15, Git Config chapter 16, Git GUI
...
```

æœ‰æ—¶æˆ‘ä»¬åªéœ€è¦çœ‹æœ€åå‡ è¡Œæ—¥å¿—ï¼Œæˆ‘ä»¬å¯ä»¥åŠ ä¸Šæ¡æ•°é™åˆ¶ `-n {num}` æˆ– `-{num}`

```plaintext
$ git log --pretty=oneline -n 3
```

æˆ–

```plaintext
$ git log --pretty=oneline -3
```

`--pretty=oneline` ä¼šæ˜¾ç¤ºæ¯ä¸ªç‰ˆæœ¬å®Œæ•´çš„ hash, å¾ˆå¤šæ—¶å€™æ˜¯ä¸éœ€è¦çš„ï¼Œå¤§å¤šæ•°æ—¶å€™åªéœ€è¦ç®€çŸ­çš„ commit hash å³å¯ï¼Œè¿™æ—¶å¯ç”¨å‚æ•° `--oneline`

```plaintext
$ git log --oneline -3
```

æœ‰æ—¶åªè¦åˆ—å‡ºæ¯æ¬¡ä¿®æ”¹çš„æ–‡ä»¶ååˆ—è¡¨å°±å¥½

```plaintext
$ git log --name-only -3
```

### 4.3 å›¾å½¢åŒ–æ˜¾ç¤º

`--graph` å‚æ•°å¯ä»¥å®ç°å›¾å½¢åŒ–æ˜¾ç¤ºï¼Œå±•ç¤ºåˆ†æ”¯çš„è¡åˆå†å²ï¼Œå¦‚ï¼š

```plaintext
$ git log --graph --pretty=oneline --abbrev-commit
*   edd2b51 (HEAD -> hello2) Merge branch 'hello-branch' into hello2
|\
| * 8ac69ff (hello-branch) add executable permission to hello.sh
| * 30fd921 test
| * 2f58933 (origin/hello-branch) file mode
* | e02fdf5 hello52
* | 45e3d20 hello5
|/
* b144824 more
```

![](images/ch14_02_log_graph.png)

### 4.4 å ä½ç¬¦ (Placeholder)

Git log æ”¯æŒå¾ˆå¤šå ä½ç¬¦ä¸ºç”¨æˆ·æ˜¾ç¤ºå®šåˆ¶åŒ–çš„ä¿¡æ¯ã€‚æ¯”å¦‚ï¼š

```plaintext
#   %h: abbreviated commit hash
#   %d: ref names, like the --decorate option of git-log(1)
#   %cn: committer name
#   %ce: committer email
#   %cr: committer date, relative
#   %ci: committer date, ISO 8601-like format
#   %cd: committer date (format respects --date= option)
#   %ct: committer date, UNIX timestamp
#   %an: author name
#   %ae: author email
#   %ar: author date, relative
#   %ai: author date, ISO 8601-like format
#   %s: subject
...
```

committer date = commit date. committer date å±äºä¸€ä¸ªæäº¤(commit) çš„å…ƒä¿¡æ¯ï¼Œå› ä¸ºå®ƒä¹Ÿè¡¨ç¤ºæäº¤åŠ¨ä½œå‘ç”Ÿæ—¶çš„æ—¶é—´ï¼Œå¾ˆå¤šæ—¶å€™ï¼Œç”¨ commit date ä¹Ÿå¯ã€‚

è¿˜æœ‰å¾ˆå¤šï¼Œå»ºè®®åœ¨[å®˜æ–¹å¸®åŠ©æ–‡æ¡£](https://git-scm.com/docs/git-log)é‡Œæœ `placeholder` æ‰¾åˆ°ç›¸å…³å†…å®¹æŸ¥çœ‹ã€‚

å¯ä»¥é€šè¿‡ `--format` å’Œ `--pretty` å‚æ•°æ¥ä½¿ç”¨å ä½ç¬¦å®šåˆ¶æ¶ˆæ¯ã€‚

#### 4.4.1 ç¤ºä¾‹1ï¼šè·å–å½“å‰åˆ†æ”¯æœ€åä¸€æ¬¡æäº¤çš„ä½œè€…çš„ email

æœ‰å¤šç§æ–¹å¼å¯ä»¥åšåˆ°ï¼š

```plaintext
$ git log -n 1 --format="%ae"
iridiumcao@gmail.com
```

æˆ–

```plaintext
$ git log -1 --pretty=format:"%ae"
iridiumcao@gmail.com
```

åŠ ä¸Šå®šåˆ¶ä¿¡æ¯ï¼š

```plaintext
$ git log -1 --format="The last commit's email is %ae"
The last commit's email is iridiumcao@gmail.com
$ git log -1 --pretty=format:"The last commit's email is %ae"
The last commit's email is iridiumcao@gmail.com
```

å¦‚æœæˆ‘ä»¬ä¸äº†è§£ `git log` æ”¯æŒçš„å ä½ç¬¦ï¼Œå°±å¾—ç”¨ä¸‹é¢çš„ç¬¨åŠæ³•å»æŠ“å–ï¼š

```plaintext
$ git log -n 1 | head -2 | tail -1 | sed 's/^Author: //g'
Cao Yi <iridiumcao@gmail.com>
```

#### 4.4.2 æ›´å¤šç¤ºä¾‹

â–· è·å–æœ€è¿‘19ä¸ª commit hash

```plaintext
$ git log -19 --pretty=format:"%h"
$ git log -19 --format=%h
```

ä¸Šè¿°ä¸¤æ¡æŒ‡ä»¤çš„æ•ˆæœå®Œå…¨ä¸€æ ·ã€‚

â–· æ˜¾ç¤ºä¸Šæ¬¡ä¿®æ”¹çš„æ–‡ä»¶åˆ—è¡¨

```plaintext
git show --pretty=%gd --stat
git log -n 1 --stat --summary
```

ä¸Šé¢ä¸¤æ¡è¿˜æ˜¯æœ‰ä¸ä¸€æ ·çš„ï¼Œshow èƒ½çœ‹ç›®å‰æœªæäº¤çš„ï¼Œè€Œ log åªèƒ½çœ‹å·²ç»æäº¤çš„

[Ref](https://stackoverflow.com/questions/424071/how-do-i-list-all-of-the-files-in-a-commit)

â–· æ˜¾ç¤ºæŸ branch/tag/commit çš„æ—¶é—´ä¿¡æ¯

å½“å‰åˆ†æ”¯æœ€æ–° commit çš„ä½œè€…æ—¶é—´(author time)ï¼š

```plaintext
$ git log -1 --format=%ai
2023-12-23 21:42:03 +0800
$ git log -1 --pretty=%ai
2023-12-23 21:42:03 +0800
$ git log -1 --pretty=format:%ai
2023-12-23 21:42:03 +0800
```

ä»¥ä¸Šä¸‰æ¡æŒ‡ä»¤æ˜¯ç­‰æ•ˆçš„ã€‚

æ˜¾ç¤ºå¦ä¸€ä¸ª branch æˆ– tag çš„ä½œè€…æ—¶é—´ï¼š

```plaintext
$ git log -1 --format=%ai master
2023-12-23 07:17:24 +0800
```

æ˜¾ç¤ºæŸä¸ªç‰¹å®šçš„ commit çš„ä½œè€…æ—¶é—´ï¼š

```plaintext
$ git log -1 --format=%ai d61f9eb67a
2023-12-23 10:11:06 +0800
```

è¿™æ¡æŒ‡ä»¤é‡Œçš„ `-1` å‚æ•°å¹¶éå¤šä½™ã€‚

https://stackoverflow.com/questions/3814926/git-commit-date

### 4.5 Find Deleted Files in Git Repository

å‡å¦‚æˆ‘ä»¬è¦å¯»æ‰¾å·²ç»åˆ æ‰çš„æ–‡ä»¶ 16.md åœ¨å“ªäº› commit ä¸­å¤„ç†è¿‡ï¼Œå¯ä»¥è¿™æ ·

```plaintext
$ git log --full-history -- "*16.md"
```

å¦‚æœè¦æ‰¾æœ€åä¸€æ¡ï¼ŒåŠ å‚æ•° `-1`

```plaintext
$ git log -1 --full-history -- "*16.md"
```

The quotes are not required, full path can be used too.

Ref: <https://stackoverflow.com/questions/6839398/find-when-a-file-was-deleted-in-git/34755406>

### 4.6 æŸ¥è¯¢æŸäººæäº¤çš„å†å²è®°å½•

å¯ä»¥é€šè¿‡ git message çš„ author åŒ…å«çš„å­—ä¸²æ¥æ‰¾ï¼Œæ¯”å¦‚

```plaintext
$ git log --author="Cao Yi"
commit cd5105335c3260daf68af65e9de4173dcb64b54a
Author: Cao Yi <iridiumcao@gmail.com>
Date:   Sat Dec 23 21:08:40 2023 +0800

    Update Chapter 14, 15, 16

commit d61f9eb67ad0dd9818ce6d5028f7676443d699e4
Author: Cao Yi <iridiumcao@gmail.com>
Date:   Sat Dec 23 10:11:06 2023 +0800
...
```

æˆ–

```plaintext
$ git log --author="iridiumcao"
$ git log --author="iridiumcao@gmail"
$ git log --author="iridiumcao@gmail.com"
```

æŸ¥å‡ºæ¥çš„å†…å®¹è¿˜å¯ä»¥è¿›ä¸€æ­¥æ ¼å¼åŒ–æˆ–è¾“å…¥åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­

```plaintext
git log --author="Cao Yi" --pretty=oneline >gitlog.txt
```

## 5. `git reflog`

`reflog`, reference log, é€šå¸¸è®¤ä¸ºæ˜¯ git æ—¥å¿—çš„æ—¥å¿—ï¼Œå‡¡æ˜¯å¯¹ repository æœ‰æ”¹åŠ¨çš„æ“ä½œï¼Œå®ƒéƒ½è®°å½•åœ¨æ¡ˆï¼Œå³ä¾¿æ˜¯åˆ†æ”¯åˆ é™¤äº†ï¼Œå®ƒéƒ½åœ¨ã€‚reflog åªå­˜åœ¨äºæœ¬åœ°ï¼Œæœ‰ä¸€æ®µé»˜è®¤çš„ä¿å­˜æ—¶é—´ï¼Œå¯ä»¥é€šè¿‡å±æ€§ `gc.reflogExpire` è®¾ç½®ï¼Œä½†**ä¸å»ºè®®**ç”¨æˆ·è®¾ç½®ã€‚

```plaintext
$ git config gc.reflogExpire 100.days.ago
```

å®ƒçš„ä½¿ç”¨åœºæ™¯ä¸»è¦æ˜¯æ¢å¤ä¸€ä¸ªå·²ç»ä¸åœ¨ç‰ˆæœ¬åº“ä¸­çš„æŸä¸ªç‰ˆæœ¬ã€‚å…·ä½“å¤„ç†æ–¹æ³•æ˜¯å…ˆç”¨ `git reflog` åˆ—å‡ºè®°å½•ï¼Œå†æ‰¾åˆ°é‚£ä¸ªæƒ³è¦æ¢å¤çš„ç‰ˆæœ¬ç”¨ `git checkout HEAD@{n} -b {new branch name}` æ¢å¤ã€‚

è¯è¯´ reflog çš„è¾“å‡ºçœŸçš„å¾ˆéš¾è¯»ï¼Œä¸æ˜¯ä¸‡ä¸å¾—å·²ï¼Œä¸å»ºè®®ä½¿ç”¨ã€‚å¦‚æœè¦æ‰¾æŸä¸ª commit å¯ä»¥æ­é… `grep` ä½¿ç”¨ã€‚

Ref:

- <https://git-scm.com/docs/git-reflog>
- [ã€å­¦äº†å°±å¿˜ã€‘Gitæ“ä½œ â€” 51.git reflogå‘½ä»¤](https://www.jianshu.com/p/7e4cef3863e7) (by ç¹åä¼¼é”¦Fighting)
- [Gitè¿›é˜¶ç³»åˆ—: 8. ç”¨Reflogæ¢å¤ä¸¢å¤±çš„æäº¤](https://zhuanlan.zhihu.com/p/639564741) (by ä¿å‡¡)

## 6. `git show`

ä¸å¸¦ä»»ä½•å‚æ•°æ—¶ï¼Œ`git show` æ˜¾ç¤ºæœ€æ–°ç‰ˆæœ¬çš„æ‘˜è¦ä¿¡æ¯å’Œå…·ä½“æ”¹åŠ¨ï¼Œä¹Ÿå°±æ˜¯ `git show` = `git log -1` + `git diff HEAD~1`.

å¦‚æœè¦æ˜¾ç¤ºæœ€è¿‘ n ä¸ªå˜åŒ–ï¼Œå¯ä»¥ç”¨

```plaintext
$ git show HEAD~n
```

`git show` è¿˜å¯ä»¥å¸®åŠ©æˆ‘ä»¬è·å–ä¸€äº›ä¸“é—¨ä¿¡æ¯ï¼Œæ¯”å¦‚

è·å– committer date ([Ref](https://stackoverflow.com/questions/3814926/git-commit-date))

```plaintext
git show -s --format=%ci <commit>
```

ç¤ºä¾‹ï¼š

```plaintext
$ git show -s --format=%ci c6664a
2022-01-11 17:17:06 -0500
```

è°ƒèŠ‚ `--format` å‚æ•°ï¼Œè¿˜å¯ä»¥è·å– author dateï¼Œå¦‚

```plaintext
$ git show -s --format=%ai c6664a
2022-01-04 11:49:27 +0800
```

## 7. `git branch`

* `git branch` æ˜¾ç¤ºæœ¬åœ°åˆ†æ”¯
* `git branch -r` æ˜¾ç¤ºè¿œç¨‹åº“çš„åˆ†æ”¯
* `git branch -v` æ˜¾ç¤ºæœ¬åœ°åˆ†æ”¯æ›´è¯¦ç»†çš„ä¿¡æ¯ï¼Œå³åˆ†æ”¯åˆ—è¡¨ï¼Œæ¯ä¸ªåˆ†æ”¯æœ€åä¸€ä¸ªæäº¤å’Œå®ƒçš„ message
* `git branch --v` åŒä¸Š
* `git branch --verbose` åŒä¸Š
* `git branch --verbose --remote` æ˜¾ç¤ºè¿œç¨‹åˆ†æ”¯çš„è¯¦ç»†ä¿¡æ¯
* `git branch -v -r` åŒä¸Š
* `git branch -vv` æ˜¾ç¤ºæœ¬åœ°åˆ†æ”¯æ›´è¯¦ç»†çš„ä¿¡æ¯ï¼Œé™¤äº† `--verbose` æœ‰çš„ï¼Œè¿˜åŒ…å«æœ¬åœ°åˆ†æ”¯å…³è”çš„è¿œç¨‹å¼•ç”¨
* `git branch --verbose --verbose` åŒä¸Š

Branches merged into the master branch

```plaintext
$ git switch master
$ git branch --merged
$ git branch -r --merged
$ git branch -r --merged  | wc -l
```

Branches NOT merged into the master branch

```plaintext
$ git switch master
$ git branch -r --no-merged
```

## 8. `git merge-base`

`git merge-base` æ˜¯ä¸€ä¸ªæ¯”è¾ƒç½•ç”¨çš„æŒ‡ä»¤ï¼Œå¯ä»¥ç”¨å®ƒæ‰¾åˆ°ä¸¤ä¸ª branch åˆ†å‰çš„ commit ID. å®˜æ–¹çš„è¯´æ˜å¦‚ä¸‹ï¼š

```plaintext
git-merge-base - Find as good common ancestors as possible for a merge
```

ç¤ºä¾‹ï¼š

```plaintext
$ git merge-base week18 master
645f4089873e48ec7beb1faa1c0518d04d03a1ca
```

å®ƒè¡¨ç¤º `week18` å’Œ `master` è¿™ä¸¤ä¸ªåˆ†æ”¯åœ¨ ID ä¸º 645f4089873e48ec7beb1faa1c0518d04d03a1ca çš„ commit åˆ†å‰ã€‚

ç®€æ˜å¸®åŠ©å¯ä»¥é€šè¿‡æŒ‡ä»¤ `git merge-base help` æŸ¥çœ‹ï¼Œè¯¦ç»†å¸®åŠ©å¯ä»¥é€šè¿‡[è¿™é‡Œ](https://git-scm.com/docs/git-merge-base)æŸ¥çœ‹ã€‚

## 9. Tags

* `git tag` æ˜¾ç¤ºæœ¬åœ° tag åˆ—è¡¨
* `git ls-remote --tags` æ˜¾ç¤ºè¿œç¨‹ tag åˆ—è¡¨
* `git ls-remote --tags {remote repo name}` æ˜¾ç¤ºè¿œç¨‹ tag åˆ—è¡¨ï¼Œæ³¨æ„è¿œç¨‹çš„åº“åè¦è·Ÿåœ¨æŒ‡ä»¤æœ€å

## 10. `git worktree`

* `git worktree list` æ˜¾ç¤ºç°åœ¨çš„ worktree åˆ—è¡¨ï¼Œä¸€ä¸ª workspace åŒ…å«ä¸€ä¸ª worktree

## 11. `git remote`

* `git remote` æ˜¾ç¤ºè¿œç¨‹åº“åˆ—è¡¨
* `git remote -v` æ˜¾ç¤ºè¿œç¨‹åº“åˆ—è¡¨ï¼Œå¹¶æ˜¾ç¤ºå…¶ git URL

## 12. `git config`

* `git config --global --list` æ˜¾ç¤ºæ‰€æœ‰å…¨å±€å±æ€§
* `git config --list` æ˜¾ç¤ºå½“å‰ä»“åº“çš„å±æ€§
* `git config --global user.name` æ˜¾ç¤ºå…¨å±€å±æ€§ä¸­ `user.name` çš„å€¼
* `git config user.name` æ˜¾ç¤ºæœ¬ä»“åº“å±æ€§ä¸­ `user.name` çš„å€¼

---

[â‡¦ä¸Šä¸€ç« ](13.md) - [é¦–é¡µğŸ ](index.md) - [ä¸‹ä¸€ç« â‡¨](15.md)
