# ç¬¬åä¸‰ç«  åˆ›å»ºå’Œä½¿ç”¨ Git æœåŠ¡èŠ‚ç‚¹

[â‡¦ä¸Šä¸€ç« ](12.md) - [é¦–é¡µğŸ ](index.md) - [ä¸‹ä¸€ç« â‡¨](14.md)

---

- [ç¬¬åä¸‰ç«  åˆ›å»ºå’Œä½¿ç”¨ Git æœåŠ¡èŠ‚ç‚¹](#ç¬¬åä¸‰ç« -åˆ›å»ºå’Œä½¿ç”¨-git-æœåŠ¡èŠ‚ç‚¹)
  - [1. å…¬å…± Git å¹³å°](#1-å…¬å…±-git-å¹³å°)
  - [2. è‡ªå»ºæœåŠ¡å™¨](#2-è‡ªå»ºæœåŠ¡å™¨)
    - [2.1 Server (Linux)](#21-server-linux)
    - [2.2 Client](#22-client)
  - [3. é•œåƒæœåŠ¡å™¨](#3-é•œåƒæœåŠ¡å™¨)
  - [4. æœ¬åœ°ä»“åº“](#4-æœ¬åœ°ä»“åº“)
  - [5. è®¾ç½®è¿œç¨‹ä»“åº“](#5-è®¾ç½®è¿œç¨‹ä»“åº“)
    - [5.1 æŸ¥çœ‹å¹¶æ·»åŠ è¿œç¨‹åº“](#51-æŸ¥çœ‹å¹¶æ·»åŠ è¿œç¨‹åº“)
    - [5.2 æ›´æ–°è¿œç¨‹åº“ URL](#52-æ›´æ–°è¿œç¨‹åº“-url)
    - [5.3 è§£é™¤è¿œç¨‹åº“å…³è”](#53-è§£é™¤è¿œç¨‹åº“å…³è”)
    - [5.4 å¤šè¿œç¨‹åº“ä¸‹çš„æœ¬åœ°åº“æ“ä½œ](#54-å¤šè¿œç¨‹åº“ä¸‹çš„æœ¬åœ°åº“æ“ä½œ)
    - [5.5 `git remote` æŒ‡ä»¤æ€»ç»“](#55-git-remote-æŒ‡ä»¤æ€»ç»“)

---

æŒ‰ï¼šæœ¬ç« å†…å®¹å¯ä»¥æ ¹æ®éœ€è¦é€‰è¯»ã€‚

å®‰è£… git çš„æ¯ä¸€ä¸ªä¸»æœº(èŠ‚ç‚¹)éƒ½å¯ä»¥ç§°ä¸ºä¸€ä¸ªæœåŠ¡å™¨ï¼Œè¿™æ˜¯ git ä½œä¸ºå»ä¸­å¿ƒåŒ– VCS çš„ä¸€ä¸ªç‰¹ç‚¹ã€‚ä½†å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬å¤§å¤šè¿˜æ˜¯ä¼šåˆ›å»ºä¸€ä¸ªå…¬å…±èŠ‚ç‚¹ä½œä¸ºæœåŠ¡å™¨ã€‚æœ¬ç« ä¼šåˆ—ä¸¾å¤šç§åˆ›å»º git æœåŠ¡å™¨çš„æ–¹æ³•ã€‚

## 1. å…¬å…± Git å¹³å°

åˆå­¦è€…ä¸€èˆ¬æ— éœ€è€ƒè™‘è‡ªå»ºæœåŠ¡å™¨ï¼Œå¯ä»¥ä¼˜å…ˆè€ƒè™‘å…¬å…±çš„ git å¹³å°ï¼Œå¦‚ [GitHub](https://github.com/), [GitLab](https://about.gitlab.com/), [Bitbucket](https://www.atlassian.com/software/bitbucket) ç­‰ç­‰ï¼Œå®ƒä»¬éƒ½æœ‰é’ˆå¯¹ä¸ªäººç”¨æˆ·çš„å…è´¹é¡¹ç›®ã€‚è€ƒè™‘åˆ°æµè¡Œåº¦ GitHub æ˜¯æœ€å¥½çš„é€‰æ‹©ï¼Œå‡ ä¹æ‰€æœ‰çš„å¼€æºé¡¹ç›®éƒ½ä¼šæ‰˜ç®¡åˆ° GitHub ä¸Šã€‚å‰é¢[ç¬¬ä¹ç« ](09.md)æåˆ°è¿‡ GitHub çš„ä½¿ç”¨ã€‚GitLab è¿˜å¯ä»¥è‡ªå·±æ¶è®¾åœ¨å±€åŸŸç½‘ä¸­ï¼Œæ·±å—å…¬å¸å–œæ¬¢ã€‚Bitbucket æ˜¯ Atlassian æ——ä¸‹çš„äº§å“ï¼Œå…¬å¸ç”¨æˆ·åº”è¯¥ä¸å°‘ã€‚

## 2. è‡ªå»ºæœåŠ¡å™¨

ä¸€èˆ¬æˆ‘ä»¬é€‰ç”¨ Linux ä¸»æœºä½œä¸ºæœåŠ¡å™¨ï¼Œå› ä¸º Linux ä¸»æœºå¾ˆæ–¹ä¾¿å¼€å¯ SSH æœåŠ¡ã€‚åœ¨[ä¸Šä¸€ç« ](12.md)çš„ã€Œå®éªŒå‡†å¤‡ã€ä¸€èŠ‚ä¸­ï¼Œæˆ‘ä»¬å·²ç»åˆ›å»ºè¿‡æœåŠ¡å™¨ï¼Œè¿™é‡Œæˆ‘ä»¬å°†æ›´è¯¦ç»†åœ°è¯´æ˜ã€‚

### 2.1 Server (Linux)

åˆ›å»ºä¸€ä¸ª git æœåŠ¡èŠ‚ç‚¹ï¼Œä¸€èˆ¬æœ‰ä¸‰æ­¥ï¼š

1. å®‰è£…å¹¶å¼€å¯ SSH æœåŠ¡
2. å®‰è£… git
3. åˆ›å»ºè£¸åº“ (bare repository)

ä»¥ Ubuntu ä¸ºä¾‹ï¼Œå®‰è£…å¹¶å¼€å¯ SSH æœåŠ¡([å‚è€ƒ](https://linuxize.com/post/how-to-enable-ssh-on-ubuntu-20-04/))

```plaintext
$ sudo apt update
$ sudo apt install openssh-server
```

å®‰è£… git, å‚[ç¬¬ä¸‰ç« ](03.md)

```plaintext
$ sudo apt install git
```

ä¸ºå’Œæ–°æ ‡å‡†ä¿æŒä¸€è‡´ï¼Œå°†é»˜è®¤åˆ†æ”¯è®¾ç½®ä¸º `main`

```plaintext
$ git config --global init.defaultBranch main
```

ä½¿ç”¨ `--bare` å‚æ•°åˆ›å»ºä»“åº“ï¼Œå› ä¸ºæœåŠ¡å™¨ä¸€èˆ¬æ— éœ€å·¥ä½œåŒº(Working Directory). è£¸åº“ä¸€èˆ¬ä»¥ `.git` ä½œä¸ºåç¼€å‘½å

```plaintext
$ git init --bare test.git
Initialized empty Git repository in /home/caoyi/temp/test.git/
```

### 2.2 Client

å®¢æˆ·ç«¯èŠ‚ç‚¹å¯¹æ“ä½œç³»ç»Ÿæ— æ‰€è°“ï¼Œä½†ä¹Ÿéœ€è¦åˆ°å®˜ç½‘ä¸Šä¸‹è½½ git å®‰è£…ï¼Œå¯å‚[ç¬¬ä¸‰ç« ](03.md)ã€‚æ³¨æ„ï¼Œgit æ˜¯å»ä¸­å¿ƒåŒ–çš„ç»“æ„ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½æ˜¯å¹³ç­‰çš„ï¼Œå¹¶æ²¡æœ‰æ‰€è°“çš„æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯çš„åŒºåˆ†ã€‚æˆ‘ä»¬è¿™é‡ŒåŒºåˆ†æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯åªæ˜¯äººä¸ºåœ°åœ¨ä¸šåŠ¡ä¸Šçš„ä¸»è§‚åˆ’åˆ†è€Œå·²ã€‚ä¸è®ºæœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯ï¼Œå®ƒä»¬å®‰è£…çš„ git è½¯ä»¶éƒ½æ˜¯ä¸€æ ·çš„ã€‚

Git å®‰è£…å¥½åï¼Œè¿˜è¦è¿›è¡Œä¸€äº›å¿…è¦çš„è®¾ç½®ï¼Œæœ€æœ€åŸºæœ¬çš„è®¾ç½®ï¼Œå°±æ˜¯ä½¿ç”¨è€…çš„å§“åå’Œé‚®ç®±

```plaintext
$ git config --global user.name  "Cao Yi"
$ git config --global user.email "iridiumcao@gmail.com"
```

ä»è¿œç¨‹ clone ä»“åº“

```plaintext
$ git clone ssh://caoyi@192.168.0.107/home/caoyi/temp/test.git
```

ä¸ºäº†é¿å…æ¯æ¬¡å’ŒæœåŠ¡å™¨äº¤äº’éƒ½è¾“å…¥å¯†ç ï¼Œå¯ä»¥è€ƒè™‘æ‰§è¡Œä¸‹é¢çš„æŒ‡ä»¤ä»¥å…å¯†ç™»å½•ï¼š

```plaintext
$ ssh-keygen
$ ssh-copy-id caoyi@192.168.0.107
```

`ssh-keygen` ç”Ÿæˆ ssh keyï¼Œå·²ç»ç”Ÿæˆè¿‡å¯ä»¥å¿½ç•¥ï¼Œ`ssh-copy-id` å°†å‰é¢ç”Ÿæˆçš„ SSH å…¬é’¥ä¼ é€ç»™æœåŠ¡å™¨ã€‚è¿™ä¸¤ä¸ªæŒ‡ä»¤è¾“å…¥å¹¶å›è½¦åï¼Œæœ‰å‡ å¤„éœ€è¦ç¡®è®¤ï¼Œç›´æ¥æŒ‰å›è½¦å³å¯(å®éªŒç¯å¢ƒï¼Œä¾¿å®œè¡Œäº‹)ã€‚è¿™ä¸¤ä¸ªæŒ‡ä»¤éƒ½é¡ºåˆ©æ‰§è¡Œåï¼Œå°†æ¥å†é€šè¿‡ SSH ç™»å½•192.168.0.107å°±æ— éœ€å¯†ç äº†ã€‚

## 3. é•œåƒæœåŠ¡å™¨

æœ‰æ—¶å› ä¸ºç½‘ç»œè´¹ç”¨æˆ–è€…ç½‘ç»œè¿é€šæ€§é—®é¢˜ï¼Œéœ€è¦ä¸€ä¸ªé•œåƒä¾›å¤§å®¶ä½¿ç”¨ã€‚

åœºæ™¯ä¸€ï¼šä»“åº“æ¯”è¾ƒå¤§ï¼Œè€Œä¸”é‡å»ºä»“åº“çš„æ“ä½œæ¯”è¾ƒå¤šï¼Œæ¯æ¬¡éƒ½ä»æœåŠ¡å™¨ä¸Šè·å–èµ„æºå¾ˆè´¹æµé‡ï¼Œéœ€è¦æ”¯ä»˜è¾ƒé«˜è´¹ç”¨ã€‚

åœºæ™¯äºŒï¼šä»“åº“æ¯”è¾ƒå¤§ï¼Œè€Œä¸”ç½‘ç»œå¾ˆä¸ç¨³å®šå¾ˆæ…¢ï¼Œç›´æ¥ clone å¤§æ¦‚ç‡ä¼šå¤±è´¥ã€‚

ä»¥ä¸Šä¸¤ç§æƒ…å†µéƒ½å¯ä»¥è€ƒè™‘åœ¨å†…å®¹å»ºä¸€ä¸ªé•œåƒèŠ‚ç‚¹ï¼Œå¹³å¸¸åˆ›å»ºæ–°åº“æ—¶ï¼Œå¯ä»¥å…ˆä»é•œåƒä¸Šæ‹‰å–ï¼Œå†ä»æºæœåŠ¡å™¨ä¸Šè·å–å·®é‡å³å¯ã€‚

åˆ›å»ºé•œåƒèŠ‚ç‚¹çš„æ“ä½œå¾ˆç®€å•ï¼Œä»æºåº“ clone æ—¶åŠ ä¸Š `--mirror` å‚æ•°å³å¯ï¼Œå¦‚ï¼š

```plaintext
$ git clone --mirror ssh://caoyi@192.168.0.107/home/caoyi/temp/test.git
```

ä½œä¸ºé•œåƒçš„ä»“åº“æœ¬èº«ä¹Ÿæ˜¯è£¸åº“ï¼Œå®ƒçš„æ›´æ–°æ“ä½œä¹Ÿéœ€è¦ `--bare` å‚æ•°

```plaintext
$ git --bare fetch
```

å®‰è£…åï¼Œæœ€å¥½åˆ›å»ºä¸€ä¸ªè„šæœ¬ `/home/caoyi/sandbox/syn_mirror.sh`ï¼Œå®šæœŸæ›´æ–°ï¼Œæ¯”å¦‚10åˆ†é’Ÿæ›´æ–°ä¸€æ¬¡ã€‚

```bash
#!/usr/bin/env bash
cd /home/caoyi/temp/test.git
git --bare fetch
```

Crontab (æˆ‘ä»¬è¿™é‡Œè®¾ç½®æ¯10åˆ†é’ŸåŒæ­¥ä¸€æ¬¡)

```plaintext
*/10 * * * * /home/caoyi/sandbox/syn_mirror.sh
```

æ³¨æ„ä¸è¦å‘é•œåƒåº“æäº¤ä»£ç ï¼Œå³ä½¿æäº¤äº†ï¼Œä¸‹æ¬¡åŒæ­¥æ—¶ä¼šè¢«è¦†ç›–æ‰ã€‚æˆ‘ä»¬è¿˜å¯ä»¥ç¼–å†™ hook æ–‡ä»¶ `pre-receive`ï¼Œé˜»æ­¢å¹¶æç¤ºç”¨æˆ·ï¼š

```bash
#!/usr/bin/env bash

# this is a git server-side hook
# deployment path: {bare repository}/hooks/

echo "Sorry, this is a ready-only mirror server, which does not accept any pushing now."
echo "Please push to the original git server!"
exit 1
```

å¯¹ç”¨æˆ·æ¥è¯´ï¼Œä»é•œåƒè·å–ä»£ç å’Œä»å…¶ä»–èŠ‚ç‚¹è·å–ä»£ç æ˜¯ä¸€æ ·çš„ã€‚å¯ä»¥åœ¨æœ¬åœ°åº“ä¸­è®¾ç½®å¤šä¸ª git URL, å¦‚ï¼š

```plaintext
$ git remote add mirror ssh://caoyi@192.168.0.109/home/caoyi/temp/test.git
```

(å‡å¦‚é•œåƒæœåŠ¡å™¨çš„åœ°å€æ˜¯ 192.168.0.109)

è¿™æ—¶æœ¬åœ°åº“å°±å’Œä¸¤ä¸ªè¿œç¨‹åº“å…³è”ï¼š

```plaintext
$ git remote -v
origin  ssh://caoyi@192.168.0.107/home/caoyi/temp/test.git (fetch)
origin  ssh://caoyi@192.168.0.107/home/caoyi/temp/test.git (push)
mirror  ssh://caoyi@192.168.0.109/home/caoyi/temp/test.git (fetch)
mirror  ssh://caoyi@192.168.0.109/home/caoyi/temp/test.git (push)
```

## 4. æœ¬åœ°ä»“åº“

(å¦‚æœè¦æµ‹è¯•å­æ¨¡å—ï¼Œè¯·å‹¿ä½¿ç”¨æœ¬æ¨¡å¼)

æœ‰æ—¶ä¸ºäº†å¿«é€Ÿæµ‹è¯•æŸäº›ç‰¹æ€§ï¼Œç›´æ¥åœ¨æœ¬æœºåˆ›å»ºä»“åº“ï¼Œå¹¶é€šè¿‡æ–‡ä»¶è·¯å¾„æ¥ cloneï¼Œä¾‹å¦‚ï¼š

Server:

```plaintext
$ pwd
$ /d/sandbox/temp
$ git init --bare test.git
```

Client:

```plaintext
$ git clone /d/sandbox/temp/test.git
```

ä½†è¿™ä¸ªæ–¹å¼ä¸èƒ½ä½¿ç”¨äºå­æ¨¡å— (æ— è®º Windows è¿˜æ˜¯ Linux éƒ½ä¼šå‡ºç°æŠ¥é”™ `fatal: transport 'file' not allowed`)

```plaintext
$ git clone D:/sandbox/temp/remote/project-main.git
$ git submodule add D:/sandbox/temp/remote/project-sub.git
Cloning into 'D:/sandbox/temp/project-main/project-sub'...
fatal: transport 'file' not allowed
fatal: clone of 'D:/sandbox/temp/remote/project-sub.git' into submodule path 'D:/sandbox/temp/project-main/project-sub' failed
```

## 5. è®¾ç½®è¿œç¨‹ä»“åº“

å¤šæ•°æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ clone å¥½æœ¬åœ°ä»“åº“ä¹‹åï¼Œæ¥ç€ç”¨å°±è¡Œï¼Œæœ¬åœ°åº“å’Œè¿œç¨‹åº“çš„å…³è”æ˜¯è‡ªåŠ¨å»ºå¥½çš„ï¼Œæ— éœ€å¤šè€ƒè™‘ã€‚ä½†æ˜¯æœ‰äº›åœºæ™¯ä¸‹ï¼Œæˆ‘ä»¬ä¸å¾—ä¸å»ç»´æŠ¤è¿œç¨‹åº“å…³è”ã€‚

* è¿œç¨‹åº“ä¸»æœºåœ°å€(IP æˆ–åŸŸå)å˜åŒ–æ—¶
* When we work with a git mirror
* When we folk a project from GitHub and want to fetch the latest changes from the original project
* å°†åŒä¸€ä¸ªé¡¹ç›®æ¨é€åˆ°å¤šä¸ªè¿œç¨‹ä»“åº“æ—¶ï¼Œæ¯”å¦‚æˆ‘ä»¬æŠŠé¡¹ç›®åŒæ—¶å‘å¸ƒåˆ° GitHub å’Œ Gitlab
* We have two IP addreses of a same repository and the connections are not stable

### 5.1 æŸ¥çœ‹å¹¶æ·»åŠ è¿œç¨‹åº“

æˆ‘ä»¬é€šè¿‡ `git clone` åˆ›å»ºæœ¬åœ°ä»“åº“åï¼Œæœ¬åœ°ä»“åº“å°±è‡ªç„¶å’Œè¿œç¨‹çš„ä»“åº“å»ºç«‹äº†è”ç³»ï¼Œå¯ä»¥é€šè¿‡ `git remote` æŒ‡ä»¤æŸ¥çœ‹ï¼Œå¦‚ï¼š

```plaintext
$ git clone ssh://caoyi@192.168.0.107/home/caoyi/temp/test.git
$ git remote
origin
$ git remote -v
origin  ssh://caoyi@192.168.0.107/home/caoyi/temp/test.git (fetch)
origin  ssh://caoyi@192.168.0.107/home/caoyi/temp/test.git (push)
```

* `git remote` æŸ¥çœ‹è¿œç¨‹ä»“åº“ï¼Œä¸€èˆ¬é»˜è®¤çš„å°±æ˜¯ origin
* `git remote -v` æŸ¥çœ‹è¿œç¨‹ä»“åº“çš„è¯¦ç»†ä¿¡æ¯

Usually, a local git repository tracks a default remote repository named _origin_. However, we also needs to work with multiple remote repositories in some cases. å‰é¢è®²è¿°é•œåƒåº“æ—¶ï¼Œå°±è®¾ç½®äº†ä¸¤ä¸ªè¿œç¨‹ä»“åº“ã€‚

æ·»åŠ è¿œç¨‹åº“ä½¿ç”¨çš„æŒ‡ä»¤æ˜¯ `git remote add {remote repo name} {remote repo URL}`, è¿™é‡Œçš„ `{remote repo name}` æ˜¯è‡ªå®šä¹‰çš„ã€‚

```
$ git remote add mirror ssh://caoyi@192.168.0.109/home/caoyi/temp/test.git
$ git remote -v
origin  ssh://caoyi@192.168.0.107/home/caoyi/temp/test.git (fetch)
origin  ssh://caoyi@192.168.0.107/home/caoyi/temp/test.git (push)
mirror  ssh://caoyi@192.168.0.109/home/caoyi/temp/test.git (fetch)
mirror  ssh://caoyi@192.168.0.109/home/caoyi/temp/test.git (push)
```

å¦‚æœæƒ³è¦åªå¾—åˆ°æŸä¸ªè¿œç¨‹åº“çš„ URL, å¯ä»¥ç”¨ä¸‹é¢çš„æŒ‡ä»¤

* for 1.8: `git config --get remote.origin.url`
* for 2.X: `git remote get-url origin`

### 5.2 æ›´æ–°è¿œç¨‹åº“ URL

å‡å¦‚æˆ‘ä»¬çš„ä»£ç æœåŠ¡å™¨çš„ IP ä¸æ˜¯å›ºå®šçš„ï¼Œä¸‹æ¬¡é‡å¯æœºå™¨åå˜æˆ 192.168.0.109ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸‹é¢çš„æŒ‡ä»¤æ›´æ–° git URL:

```plaintext
$ git remote set-url origin ssh://caoyi@192.168.0.109/home/caoyi/temp/test.git
```

åœ¨å®é™…å¼€å‘ä¸­ï¼Œç”¨ä½œä»£ç æœåŠ¡å™¨çš„ä¸»æœºï¼Œä¸€èˆ¬è¦æ±‚è®¾ç½®é™æ€ IPï¼Œæ­¤å¤„ä»…ä¸ºä¸¾ä¾‹è¯´æ˜è€Œå·²ã€‚

å¦‚æœä»£ç æœåŠ¡å™¨çš„ä»“åº“è·¯å¾„å‘ç”Ÿå˜åŒ–ï¼Œä»“åº“çš„ git URL ä¹Ÿä¼šå‘ç”Ÿå˜åŒ–ï¼Œå‡å¦‚ç°åœ¨æœåŠ¡å™¨ä¸Šçš„ä»“åº“è·¯å¾„ä» `/home/caoyi/temp/test.git` å˜æˆ `/codebase/test.git`ï¼Œåˆ™æœ¬åœ°ä»“åº“åº”è¯¥è¿›è¡Œå¦‚ä¸‹è®¾ç½®

```plaintext
$ git remote set-url origin ssh://caoyi@192.168.0.109/codebase/test.git
```

é€šå¸¸æœåŠ¡å™¨èŠ‚ç‚¹ä¸å®œæš´éœ²è¿‡é•¿çš„è·¯å¾„ï¼Œæˆ‘ä»¬å¾€å¾€ä½¿ç”¨ä¸€ä¸ªç®€çŸ­çš„è½¯è¿æ¥è·¯å¾„å’Œå®é™…è·¯å¾„å…³è”èµ·æ¥ï¼Œç”¨æˆ·ä½¿ç”¨åŒ…å«è½¯è¿æ¥çš„è·¯å¾„å³å¯ã€‚

### 5.3 è§£é™¤è¿œç¨‹åº“å…³è”

å¦‚æœæƒ³è¦è§£é™¤å’ŒæŸä¸ªåº“çš„å…³è”ï¼Œå¯ä»¥ä½¿ç”¨ `git remote rm {remote repo name}`ï¼Œå¦‚

```plaintext
$ git remote rm mirror
```

### 5.4 å¤šè¿œç¨‹åº“ä¸‹çš„æœ¬åœ°åº“æ“ä½œ

å¦‚æœä¸€ä¸ªæœ¬åœ°åº“å…³è”äº†å¤šä¸ªè¿œç¨‹åº“ï¼Œåˆ™å®ƒåœ¨æ‰§è¡Œ `pull` æˆ– `push` ç­‰æŒ‡ä»¤æ—¶ï¼Œä¸èƒ½çœç•¥åº“åï¼Œæ¯”å¦‚

```plaintext
$ git pull mirror {branch name}
```

(æŒ‡ä»¤ä¸­å¿…é¡»æ˜ç¡®å†™å‡ºæ˜¯ä»å“ªä¸ªåº“ä¸­ `pull` çš„ï¼Œæ¯”å¦‚ `mirror` æˆ– `origin`)

ä»è¿œç¨‹æ‹‰å–åˆ†æ”¯æ—¶ï¼Œä¹Ÿè¦æ˜ç¡®æŒ‡æ˜ä»å“ªä¸ªä»“åº“æ‹‰å– (`git switch/checkout --track {remote repo name}/{branch name}`)ï¼š

```plaintext
$ git switch --track origin/branch_hello
```

æˆ–

```plaintext
$ git checkout --track origin/branch_hello
```

å¦‚æœç›´æ¥æ‰§è¡Œ `git switch branch_hello` ä¼šå¤±è´¥ï¼Œå› ä¸º git ä¸çŸ¥é“ä»å“ªä¸ªè¿œç¨‹åº“ä¸­å–ã€‚

### 5.5 `git remote` æŒ‡ä»¤æ€»ç»“

* `git remote` ç®€æ˜æ˜¾ç¤ºå½“å‰åº“å…³è”çš„è¿œç¨‹åº“ï¼Œåªæ˜¾ç¤ºåç§°
* `git remote -v` è¯¦ç»†æ˜¾ç¤ºå½“å‰åº“å…³è”çš„è¿œç¨‹åº“ï¼Œé™¤äº†åç§°ï¼Œè¿˜æ˜¾ç¤º git URL
* `git remote add {remote repo name} {git URL}` ç»™å½“å‰åº“å¢åŠ ä¸€ä¸ªå…³è”çš„è¿œç¨‹åº“
* `git remote rm {remote repo name}`å°†æœ¬åœ°é¡¹ç›®å’ŒæŸä¸ªè¿œç¨‹ä»“åº“è§£é™¤å…³è”
* `git remote prune origin` åŒæ­¥è¿œç¨‹åˆ†æ”¯ä¿¡æ¯åˆ°æœ¬åœ°ï¼Œè¿œç¨‹å·²ç»åˆ é™¤åˆ†æ”¯ï¼Œæœ¬åœ°çš„å¼•ç”¨ä¹Ÿä¼šåˆ é™¤ã€‚
* `git push -u {remote rempo name} {branch name}` æ¨é€åˆ°å…·ä½“æŸ branch åˆ°æŸåº“å¹¶å»ºç«‹å…³è”ï¼Œä¹‹åæ¨é€å¯ä»¥ä¸åŠ  `-u` å‚æ•°

---

æ¨èé˜…è¯»

* [å®˜æ–¹æ–‡æ¡£Â·æœåŠ¡å™¨ä¸Šçš„-Git-åè®®](https://git-scm.com/book/zh/v2/%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A%E7%9A%84-Git-%E5%8D%8F%E8%AE%AE)
* [How to Create a New Repository](init_repo.md)
* [Work with Multiple Remote Repositories](work_with_multi_remote_repositories.md)

---

[â‡¦ä¸Šä¸€ç« ](12.md) - [é¦–é¡µğŸ ](index.md) - [ä¸‹ä¸€ç« â‡¨](14.md)
