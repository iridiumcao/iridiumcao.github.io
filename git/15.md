# ç¬¬åäº”ç«  Git é…ç½®

[â‡¦ä¸Šä¸€ç« ](14.md) - [é¦–é¡µğŸ ](index.md) - [ä¸‹ä¸€ç« â‡¨](16.md)

---

- [ç¬¬åäº”ç«  Git é…ç½®](#ç¬¬åäº”ç« -git-é…ç½®)
  - [1. é»˜è®¤ç¼–è¾‘å™¨](#1-é»˜è®¤ç¼–è¾‘å™¨)
  - [2. è®¾ç½®æ¯”è¾ƒå·®å¼‚çš„å·¥å…·](#2-è®¾ç½®æ¯”è¾ƒå·®å¼‚çš„å·¥å…·)
  - [3. è®¾ç½®æ–‡æœ¬æ–‡ä»¶æ¢è¡Œç¬¦](#3-è®¾ç½®æ–‡æœ¬æ–‡ä»¶æ¢è¡Œç¬¦)
  - [4. å¤„ç†å¤§å°å†™æ•æ„Ÿé—®é¢˜](#4-å¤„ç†å¤§å°å†™æ•æ„Ÿé—®é¢˜)
  - [5. æ”¯æŒé•¿è·¯å¾„](#5-æ”¯æŒé•¿è·¯å¾„)
  - [6. æ–‡ä»¶æ¨¡å¼è®¾ç½®](#6-æ–‡ä»¶æ¨¡å¼è®¾ç½®)
    - [6.1 å®éªŒä¸€ `fileMode true`](#61-å®éªŒä¸€-filemode-true)
    - [6.2 å®éªŒäºŒ `fileMode false`](#62-å®éªŒäºŒ-filemode-false)
    - [6.3 è®¾ç½®å»ºè®®](#63-è®¾ç½®å»ºè®®)
  - [7. è®¾ç½® `pull`](#7-è®¾ç½®-pull)
  - [8. è®¾ç½® `push`](#8-è®¾ç½®-push)
  - [9. æŸ¥çœ‹å¸®åŠ©](#9-æŸ¥çœ‹å¸®åŠ©)
  - [10. `.gitignore`](#10-gitignore)

---

Git å®‰è£…åï¼Œå¾€å¾€éœ€è¦ä¸€äº›è®¾ç½®ä»¥æ–¹ä¾¿åæ¥çš„ä½¿ç”¨ã€‚å‰é¢æåˆ°è¿‡ï¼Œåªè¦ç»™ git é…ç½®äº†é‚®ç®±å’Œç”¨æˆ·åï¼Œå°±å¯ä»¥ä¿®æ”¹å’Œæäº¤æ–‡ä»¶äº†ã€‚

```plaintext
$ git config --global user.email "you@example.com"
$ git config --global user.name "Your Name"
```

`--global` è¡¨ç¤ºå…¨å±€é…ç½®ï¼Œæ²¡æœ‰è¿™ä¸ªå‚æ•°å°±æ˜¯åªå¯¹å½“å‰ä»“åº“ç”Ÿæ•ˆï¼Œå¦‚

```plaintext
$ git config user.email "you@another_example.com"
```

åªå¯¹å½“å‰æ‰€åœ¨çš„ä»“åº“ç”Ÿæ•ˆã€‚ä»“åº“ä¼šä¼˜å…ˆä½¿ç”¨å®ƒè‡ªå·±çš„é…ç½®ï¼Œç„¶åæ‰æ˜¯å…¨å±€é…ç½®ã€‚

æŸ¥çœ‹é…ç½®ä¿¡æ¯ï¼Œå¯ä»¥ç”¨ä¸‹é¢çš„æŒ‡ä»¤

```plaintext
$ git config --list
$ git config --global --list
```

å¦‚æœéœ€è¦é‡æ–°è®¾ç½®ä¸€ä¸ªé…ç½®é¡¹è¦†ç›–ä¹‹å‰çš„å€¼å³å¯ã€‚

åˆ é™¤é…ç½®çš„ç¤ºä¾‹å¦‚ä¸‹ï¼š

```plaintext
$ git config --global --unset {key}
```

é…ç½®ä¿¡æ¯å®é™…ä¸Šéƒ½è®°å½•åœ¨ `~/.gitconfig` ä¸­ï¼Œä½†ä¸å»ºè®®æ‰‹å·¥æ›´æ”¹è¿™ä¸ªæ–‡ä»¶ã€‚Git æœ‰éå¸¸å¤šæœ‰ç”¨çš„é…ç½®ï¼Œä¸‹é¢ä¼šä»‹ç»ä¸€äº›ã€‚

## 1. é»˜è®¤ç¼–è¾‘å™¨

ç¼–è¾‘ commit message æ—¶ï¼Œéœ€è¦ä¸€ä¸ªæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œå…·ä½“å¯ä»¥ç”±ç”¨æˆ·æŒ‡å®šï¼š

```plaintext
$ git config --global core.editor vi
```

æˆ‘ä¸€èˆ¬ä¹ æƒ¯ç”¨ vi æˆ– vim. å¦‚æœä¸è®¾ç½®ï¼Œgit å¯èƒ½é»˜è®¤ä½¿ç”¨ nano.

Ref: [How do I make git use the editor of my choice for editing commit messages?](http://stackoverflow.com/questions/2596805/how-do-i-make-git-use-the-editor-of-my-choice-for-commits)

## 2. è®¾ç½®æ¯”è¾ƒå·®å¼‚çš„å·¥å…·

å¦‚æœæ²¡æœ‰è®¾ç½® `diff.tool`ï¼Œåˆ™æ‰§è¡Œ `git difftool` æ—¶ä¼šå‡ºç°ä¸‹é¢çš„æç¤ºï¼š

```plaintext
$ git difftool

This message is displayed because 'diff.tool' is not configured.
See 'git difftool --tool-help' or 'git help config' for more details.
'git difftool' will now attempt to use one of the following tools:
opendiff kdiff3 tkdiff xxdiff meld kompare gvimdiff diffuse diffmerge ecmerge p4merge araxis bc codecompare smerge emerge vimdiff nvimdiff

Viewing (1/1): 'git/14.md'
Launch 'vimdiff' [Y/n]?
```

å¯ä»¥å…ˆæ‰“ `Y`ï¼Œè®©å®ƒé€‰ç”¨é»˜è®¤çš„ vimdiffï¼Œä¹Ÿå¯ä»¥æŒ‰ç…§å®ƒçš„æç¤ºå®‰è£…ä¸€ä¸ªåˆé€‚çš„å·¥å…·ï¼Œå¹¶è®¾ç½®å¥½ `diff.tool` çš„å€¼ã€‚

## 3. è®¾ç½®æ–‡æœ¬æ–‡ä»¶æ¢è¡Œç¬¦

æ–‡æœ¬æ–‡ä»¶çš„æ¢è¡Œç¬¦æœ‰å‡ ç§

* CR(Carriage Return) å›è½¦ `\r`
* LF(Line Feed) æ¢è¡Œ `\n`

ä¸åŒæ“ä½œç³»ç»Ÿé»˜è®¤çš„æ¢è¡Œç¬¦ä¸ä¸€æ ·

* Linux: LF
* Windows: CRLF

è¿™å¯èƒ½ç»™å¤§å®¶çš„åä½œå¸¦æ¥ä¸ä¾¿ï¼Œå¦‚æœä¸¤ä¸ªäººä½¿ç”¨çš„ç³»ç»Ÿä¸ä¸€è‡´ã€‚å¦‚æœæ²¡æœ‰è®¾ç½® `core.eol`, åœ¨ Windows ä¸Šæ·»åŠ æ–‡æœ¬æ–‡ä»¶æ—¶ï¼Œå¯èƒ½ä¼šå¾—åˆ°è­¦å‘Šæ€§æç¤ºï¼š

```plaintext
$ git add .
warning: in the working copy of 'hello.txt', LF will be replaced by CRLF the next time Git touches it
```

è¿™æ˜¯å› ä¸º Windows ä¸Šä»“åº“ç”¨ Windows é»˜è®¤çš„æ¢è¡Œç¬¦ CRLF. è¿™æ—¶å¯ä»¥è®©å¤§å®¶çº¦å®šéƒ½ä½¿ç”¨ LF æ¢è¡Œï¼Œgit åº“é‡Œå¯ä»¥è¿™æ ·è®¾ç½®ï¼š

```plaintext
$ git config --global core.eol lf
$ git config --global core.autocrlf input
```

è®¾ç½®ä¹‹åï¼Œåœ¨ Windows åˆ›å»ºçš„æ–‡æœ¬æ–‡æ¡£å…¥åº“æ—¶ï¼Œä¼šç¢°åˆ°è¿™æ ·çš„æç¤ºä¿¡æ¯ï¼š

```plaintext
$ git add .
warning: in the working copy of 'hello', CRLF will be replaced by LF the next time Git touches it
```

å†…å®¹æ­£å¥½å’Œè®¾ç½®ä¹‹å‰ç›¸åã€‚Windows ä¸Šå¯ç”¨ç”¨ VS Code ä¿®æ”¹æ¢è¡Œç¬¦ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©ä¸ç†ä¼šï¼Œå› ä¸ºå…¥åº“åè‡ªç„¶ä¼šæ›¿æ¢æˆ LF.

Linux ç”¨æˆ·ä¸ç”¨è®¾ç½®æ­¤é€‰é¡¹ã€‚

å‚è€ƒï¼š[Be Carefulï¼ä¸åŒæ“ä½œç³»ç»Ÿä¸­æ–‡æœ¬æ¢è¡Œçš„æ–¹å¼(çŸ¥ä¹)](https://zhuanlan.zhihu.com/p/53310481)

## 4. å¤„ç†å¤§å°å†™æ•æ„Ÿé—®é¢˜

ä¸åŒæ“ä½œç³»ç»Ÿå¯¹æ–‡ä»¶åçš„å¤§å°å†™æ˜¯å¦æ•æ„Ÿæ˜¯ä¸ä¸€è‡´çš„ï¼š

* Linux: æ•æ„Ÿ
* Windows/Mac: ä¸æ•æ„Ÿ

ä¸ºäº†æ–¹ä¾¿å¤§å®¶åä½œï¼Œå¯ä»¥è®¾ç½®ä¸ºå¤§å®¶éƒ½å¯¹å¤§å°å†™ä¸æ•æ„Ÿï¼š

```plaintext
$ git config --global core.ignoreCase true
```

ä½†æ˜¯ï¼Œç»è¿‡æœ¬äººåœ¨ Linux å’Œ Windows ä¸Šçš„å®éªŒï¼Œå‘ç°è¿™ç§è®¾ç½®å®é™…æ•ˆæœä¸ä½³ï¼š

* Windowsï¼Œå› ä¸ºç³»ç»ŸåŸå› ï¼Œè®¾ç½®ä¸å¦éƒ½ä¸æ•æ„Ÿ
* Linuxï¼Œå¯¹æœåŠ¡ç«¯(bare repo)æ²¡æœ‰æ•ˆæœ
* åªå¯¹ Linux çš„æ™®é€šä»“åº“æœ‰æ•ˆ

å› æ­¤ï¼Œå¯ä»¥å›¢é˜Ÿå¯ä»¥å»ºç«‹ git å¤–çš„çº¦å®šï¼š

**æ–‡ä»¶åå’Œç›®å½•åæ°¸è¿œä¸ç”¨å¤§å°å†™æ¥åŒºåˆ†**

ä½†å¦‚æœå·²ç»æœ‰äº†å¤§å°å†™åç§°æ··ä¹±çš„é—®é¢˜ï¼Œæˆ‘ä»¬åº”è¯¥æ€ä¹ˆå¤„ç†ï¼ŸGit æä¾›çš„ `git mv {old file name} {new file name}` èƒ½å¾ˆå¥½å¤„ç†è¿™ä¸ªé—®é¢˜ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹

ç°åœ¨ç›®å½•é‡Œæœ‰å¦‚ä¸‹å‡ ä¸ªæ–‡ä»¶ï¼š

```plaintext
$ ls
hello  hello2.txt  hiworld.txt
```

ç”¨ `git mv` å°† hiworld.txt æ”¹æˆ HiWorld.txt:

```plaintext
$ git mv hiworld.txt HiWorld.txt
```

æŸ¥çœ‹çŠ¶æ€ï¼Œå·²ç»ä¿®æ”¹æˆåŠŸï¼š

```plaintext
$ git status
On branch main
Changes to be committed:
  (use "git restore --staged <file>..." to unstage)
        renamed:    hiworld.txt -> HiWorld.txt
```

æäº¤æ”¹åŠ¨ï¼Œå±å¹•æ˜¾ç¤ºçš„æ¶ˆæ¯ä¹Ÿè¡¨æ˜ä¿®æ”¹æˆåŠŸï¼š

```plaintext
$ git commit -m "adm-1234, test renmae"
[main a9f9c38] adm-1234, test renmae
 1 file changed, 0 insertions(+), 0 deletions(-)
 rename hiworld.txt => HiWorld.txt (100%)
```

éªŒè¯ï¼Œä¸€åˆ‡OK:

```plaintext
$ ls
HiWorld.txt  hello  hello2.txt
```

ç„¶è€Œï¼Œ`core.ignoreCase` è¿˜æ˜¯ `true`:

```plaintext
$ git config --global core.ignoreCase
true
```

ä¹Ÿå°±æ˜¯è¯´ `git mv` åœ¨é…ç½®é¡¹ `core.ignoreCase` ä¸º `true` ä¹Ÿå°±æ˜¯é…ç½®å¿½ç•¥å¤§å°å†™çš„æƒ…å†µä¸‹ï¼Œä»ç„¶æŠŠæ–‡ä»¶åçš„å¤§å°å†™æ”¹äº†ã€‚

Ref: [`core.ignoreCase` è¯´æ˜](core.ignoreCase.md)

## 5. æ”¯æŒé•¿è·¯å¾„

è¿™ä¸ªåªå½±å“ Windows ç”¨æˆ·ï¼Œå—æ“ä½œç³»ç»Ÿçš„é™åˆ¶ï¼Œè·¯å¾„é•¿åº¦é™åˆ¶åœ¨260ä¸ªå­—ç¬¦ä»¥å†…ï¼Œå¦‚æœè¦æ”¯æŒæ›´é•¿çš„è·¯å¾„ï¼Œå¯ä»¥ä½œå¦‚ä¸‹è®¾ç½®ã€‚

```plaintext
$ git config --global core.longpaths true
```

å»ºè®® Windows ç”¨æˆ·éƒ½æŠŠè¿™ä¸ªè®¾ç½®ä¸Šã€‚

Ref:

* [Clean Files with a Long Path (Git)](clean_files_with_long_path.md)
* [How to fix Git Clone "Filename too long" Error in Windows?](https://katalon-inc.my.site.com/katalonhelpcenter/s/article/How-to-fix-Git-Clone-Filename-too-long-Error-in-Windows)

## 6. æ–‡ä»¶æ¨¡å¼è®¾ç½®

Linux çš„æ–‡ä»¶ mode æœ‰ï¼š

* `w` å¯å†™
* `r` å¯è¯»
* `x` å¯æ‰§è¡Œ

Windows ä¸Šå´æ²¡æœ‰è¿™äº›åŒºåˆ†ã€‚

### 6.1 å®éªŒä¸€ `fileMode true`

åœ¨ Linux ä¸Šï¼Œä¸€ä¸ªæ–‡ä»¶å¦‚æœå®ƒçš„ mode å‘ç”Ÿå˜åŒ–ï¼Œè¿™ä¸ªæ–‡ä»¶ä¹Ÿä¼šè®¤ä¸ºå·²ç»å‘ç”Ÿå˜åŒ–ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œè¿™ä¸ªå˜åŒ–æ˜¯å¯ä»¥æäº¤åˆ° git ä»“åº“çš„ã€‚ä»¥ä¸‹æ˜¯å…·ä½“å®éªŒè¿‡ç¨‹ï¼š

ç™»å½• Linux å¹¶è¿›å…¥å®éªŒç”¨ä»“åº“ï¼Œé¦–å…ˆç¡®è®¤ `fileMode` çš„å€¼æ˜¯ `true`ï¼Œä¸ç®¡ç°åœ¨çš„å€¼æ˜¯å¤šå°‘ï¼Œå…ˆç”¨ä¸‹é¢çš„æŒ‡ä»¤è®¾ç½®ä¸€é

```plaintext
$ git config core.fileMode true
```

æŸ¥çœ‹å…¶ä¸­çš„æ–‡ä»¶ hello.shï¼Œå‘ç°è¿˜æ²¡æœ‰å¯æ‰§è¡Œæƒé™ï¼š

```plaintext
$ ls -l
-rw-rw-r-- 1 caoyi caoyi  6 Dec 23 20:22 hello.sh
```

ç»™ hello.txt æ·»åŠ å¯æ‰§è¡Œæƒé™

```plaintext
$ chmod +x hello.sh
$ ls -l
-rwxrwxr-x 1 caoyi caoyi  6 Dec 23 20:22 hello.sh
```

ä½¿ç”¨ `git status` æ£€æŸ¥åº“çš„çŠ¶æ€ï¼Œå®ƒæç¤º hello.sh æœ‰ä¿®æ”¹

```plaintext
$ git status
On branch hello-branch
Your branch is ahead of 'origin/hello-branch' by 1 commit.
  (use "git push" to publish your local commits)

Changes not staged for commit:
  (use "git add <file>..." to update what will be committed)
  (use "git restore <file>..." to discard changes in working directory)
        modified:   hello.sh

no changes added to commit (use "git add" and/or "git commit -a")
```

å°† hello.sh æ·»åŠ åˆ° Staging Area å†æäº¤åˆ° Repository:

```plaintext
$ git add hello.sh
$ git status
On branch hello-branch
Your branch is ahead of 'origin/hello-branch' by 1 commit.
  (use "git push" to publish your local commits)

Changes to be committed:
  (use "git restore --staged <file>..." to unstage)
        modified:   hello.sh

$ git commit -m "add executable permission to hello.sh"
[hello-branch 8ac69ff] add executable permission to hello.sh
 1 file changed, 0 insertions(+), 0 deletions(-)
 mode change 100644 => 100755 hello.sh
```

ä¸Šé¢çš„å±å¹•æ˜¾ç¤ºå†…å®¹å¾ˆæ¸…æ™°ï¼Œå°±æ˜¯ hello.sh çš„æƒé™å˜åŠ¨å…¥åº“äº†ã€‚å†ç”¨ `git show` æŸ¥ä»¥ä¸‹åˆšæ‰çš„æäº¤ï¼Œä¹Ÿèƒ½çœ‹åˆ°åŒæ ·çš„ä¿¡æ¯

```plaintext
$ git show
commit 8ac69ffa9182f1f388c12b7edfe220561139cf7c (HEAD -> hello-branch)
Author: Cao Yi <iridiumcao@gmail.com>
Date:   Sat Dec 23 20:23:55 2023 +0800

    add executable permission to hello.sh

diff --git a/hello.sh b/hello.sh
old mode 100644
new mode 100755
```

### 6.2 å®éªŒäºŒ `fileMode false`

ç™»å½• Linux å¹¶è¿›å…¥å®éªŒç”¨ä»“åº“ï¼Œé¦–å…ˆç¡®è®¤ `fileMode` çš„å€¼æ˜¯ `false`ï¼Œä¸ç®¡ç°åœ¨çš„å€¼æ˜¯å¤šå°‘ï¼Œå…ˆç”¨ä¸‹é¢çš„æŒ‡ä»¤è®¾ç½®ä¸€é

```plaintext
$ git config core.fileMode false
```

æŸ¥çœ‹å…¶ä¸­çš„æ–‡ä»¶ hello.shï¼Œå‰é¢çš„å®éªŒå·²ç»ç»™å®ƒèµ‹äºˆäº†å¯æ‰§è¡Œæƒé™ï¼š

```plaintext
$ ls -l
-rwxrwxr-x 1 caoyi caoyi  6 Dec 23 20:22 hello.sh
```

è¿™é‡Œæˆ‘ä»¬å°† hello.sh çš„å¯æ‰§è¡Œæƒé™å»æ‰

```plaintext
$ chmod -x hello.sh
$ ls -l
-rw-rw-r-- 1 caoyi caoyi  6 Dec 23 20:22 hello.sh
```

ä½¿ç”¨ `git status` æ£€æŸ¥åº“çš„çŠ¶æ€ï¼Œå®ƒå¹¶æ²¡æœ‰æ£€æµ‹åˆ°å·¥ä½œåŒºé‡Œ hello.sh æœ‰ä»»ä½•æ”¹åŠ¨ï¼š

```plaintext
$ git status
On branch hello-branch
Your branch is ahead of 'origin/hello-branch' by 2 commits.
  (use "git push" to publish your local commits)

nothing to commit, working tree clean
```

(ä¸Šé¢ `git status` æåˆ°çš„æœ¬åœ°åˆ†æ”¯æ¯”è¿œç¨‹å…³è”åˆ†æ”¯å¤šä¸¤ä¸ª commitï¼Œå’Œ hello.sh çš„ mode å˜åŒ–æ— å…³ã€‚)

### 6.3 è®¾ç½®å»ºè®®

è€ƒè™‘åˆ°æ–‡ä»¶æƒé™å˜åŒ–åœ¨ Linux ä¸­æ˜¯æœ‰å®é™…æ„ä¹‰çš„ï¼Œå¹¶éå¯æœ‰å¯æ— ï¼Œå»ºè®®å°† `fileMode` è®¾ç½®ä¸º `true`.

```plaintext
$ git config core.fileMode true
```

è¿™ä¸ªè®¾ç½®åœ¨ Linux ä¸Šæ˜¯ç”Ÿæ•ˆçš„ï¼Œä¸è¿‡å¯¹äº Windows æ— æ„Ÿã€‚è¿™ä¸ªå€¼ä¸è®ºæ˜¯ `true` or `false`, Windows éƒ½æ£€æµ‹ä¸åˆ°è¿™ç§å˜åŒ–ã€‚è¿™æ ·è®¾ç½®åï¼Œå¦‚æœéœ€è¦ä¿®æ”¹æ–‡ä»¶çš„æƒé™ï¼Œç›´æ¥åˆ° Linux ä¸»æœºä¸Šå»ä¿®æ”¹å³å¯ã€‚

## 7. è®¾ç½® `pull`

åˆå­¦è€…ä¸ç”¨ç†ä¼šæœ¬èŠ‚çš„è®¾ç½®ã€‚

```plaintext
git config --global pull.rebase true
```

å¦‚æœä¸è®¾ç½®ï¼Œåœ¨ pull æ—¶å¦‚æœè¦ä½¿ç”¨ rebase å°±å¾—ç”¨ï¼š

```plaintext
git pull --rebase
```

å®˜æ–¹æ–‡æ¡£è§£é‡Šå¦‚ä¸‹ï¼š

> pull.rebase
>
> When `true`, rebase branches on top of the fetched branch, instead of merging the default branch from the default remote when "git pull" is run. See "branch.\<name\>.rebase" for setting this on a per-branch basis.
>
> When `merges` (or just `m`), pass the --rebase-merges option to git rebase so that the local merge commits are included in the rebase (see git-rebase(1) for details).
>
> When the value is interactive (or just i), the rebase is run in interactive mode.
>
> NOTE: this is a possibly dangerous operation; do not use it unless you understand the implications (see git-rebase(1) for details).

## 8. è®¾ç½® `push`

åˆå­¦è€…ä¸ç”¨ç†ä¼šæœ¬èŠ‚çš„è®¾ç½®ã€‚

åœ¨è¾ƒæ—§çš„ç‰ˆæœ¬ä¸Šæ‰§è¡Œ `git push` å¯èƒ½ä¼šç¢°åˆ°å¦‚ä¸‹æç¤ºï¼Œå®ƒæåˆ°äº† `simple` å’Œ `matching` ä¸¤ç§æ¨¡å¼ï¼Œå¾ˆæ˜¾ç„¶ `simple` æ›´å®‰å…¨ï¼Œè¿™ä¸ªè®¾ç½®æŒ‰é»˜è®¤å°±å¥½ï¼Œä¸ç”¨æ”¹ã€‚

```plaintext
$ git push
warning: push.default å°šæœªè®¾ç½®ï¼Œå®ƒçš„é»˜è®¤å€¼åœ¨ Git 2.0 å·²ä» 'matching'
å˜æ›´ä¸º 'simple'ã€‚è‹¥è¦ä¸å†æ˜¾ç¤ºæœ¬ä¿¡æ¯å¹¶ä¿æŒä¼ ç»Ÿä¹ æƒ¯ï¼Œè¿›è¡Œå¦‚ä¸‹è®¾ç½®ï¼š

  git config --global push.default matching

è‹¥è¦ä¸å†æ˜¾ç¤ºæœ¬ä¿¡æ¯å¹¶ä»ç°åœ¨å¼€å§‹é‡‡ç”¨æ–°çš„ä½¿ç”¨ä¹ æƒ¯ï¼Œè®¾ç½®ï¼š

  git config --global push.default simple

å½“ push.default è®¾ç½®ä¸º 'matching' åï¼Œgit å°†æ¨é€å’Œè¿œç¨‹åŒåçš„æ‰€æœ‰
æœ¬åœ°åˆ†æ”¯ã€‚

ä» Git 2.0 å¼€å§‹ï¼ŒGit ç¼ºçœé‡‡ç”¨æ›´ä¸ºä¿å®ˆçš„ 'simple' æ¨¡å¼ï¼Œåªæ¨é€å½“å‰
åˆ†æ”¯åˆ°è¿œç¨‹å…³è”çš„åŒååˆ†æ”¯ï¼Œå³ 'git push' æ¨é€å½“å‰åˆ†æ”¯ã€‚

å‚è§ 'git help config' å¹¶æŸ¥æ‰¾ 'push.default' ä»¥è·å–æ›´å¤šä¿¡æ¯ã€‚
ï¼ˆ'simple' æ¨¡å¼ç”± Git 1.7.11 ç‰ˆæœ¬å¼•å…¥ã€‚å¦‚æœæ‚¨æœ‰æ—¶è¦ä½¿ç”¨è€ç‰ˆæœ¬çš„ Gitï¼Œ
ä¸ºä¿æŒå…¼å®¹ï¼Œè¯·ç”¨ 'current' ä»£æ›¿ 'simple'ï¼‰
```

## 9. æŸ¥çœ‹å¸®åŠ©

å¯ä»¥é€šè¿‡æ‰§è¡Œ

```plaintext
$ git config
```

æŸ¥çœ‹ç®€æ˜çš„å¸®åŠ©è¯´æ˜ã€‚å¦‚æœè¦çœ‹æ›´è¯¦ç»†çš„å¸®åŠ©æ–‡æ¡£ï¼Œå¯æ‰§è¡Œ

```plaintext
$ git config --help
```

å®˜æ–¹å®Œæ•´å‚è€ƒåœ¨[è¿™é‡Œ](http://git-scm.com/docs/git-config)ï¼Œéå¸¸å…¨é¢ï¼Œä¹Ÿéå¸¸å•°å—¦ğŸ˜

## 10. `.gitignore`

å‰é¢éƒ½æ˜¯å…³äº `git config` çš„ï¼Œè¿™é‡Œè¯´ä¸€ç‚¹å…¶ä»–çš„ã€‚

å¦‚æœå·¥ä½œåŒºæœ‰ä¸€äº›æ–‡ä»¶æˆ–ç›®å½•ä¸å¸Œæœ›è¢« git ç®¡ç†ï¼Œå¯ä»¥åœ¨å·¥ä½œåŒºçš„æ ¹ç›®å½•åˆ›å»ºæ–‡ä»¶ `.gitignore` å¹¶å†™ä¸Šå®ƒä»¬çš„è·¯å¾„ã€‚ä¸€ä¸ªå…¸å‹çš„ Java é¡¹ç›®çš„ `.gitignore` å†…å®¹æ˜¯è¿™æ ·çš„

```plaintext
# Compiled class file
*.class

# Log file
*.log

# BlueJ files
*.ctxt

# Mobile Tools for Java (J2ME)
.mtj.tmp/

# Package Files #
*.jar
*.war
*.nar
*.ear
*.zip
*.tar.gz
*.rar

# virtual machine crash logs, see http://www.java.com/en/download/help/error_hotspot.xml
hs_err_pid*
replay_pid*
```

Ref: <https://github.com/github/gitignore/blob/main/Java.gitignore>

åœ¨[è¿™é‡Œ](https://github.com/github/gitignore)è¿˜æœ‰éå¸¸å¤šçš„é»˜è®¤çš„çš„ `.gitignore` é…ç½®ï¼Œå¯ä»¥æ ¹æ®é¡¹ç›®é€‰ç”¨ã€‚

---

[â‡¦ä¸Šä¸€ç« ](14.md) - [é¦–é¡µğŸ ](index.md) - [ä¸‹ä¸€ç« â‡¨](16.md)
